# Data Configuration
data:
  # US Sector ETFs (11)
  sector_etfs:
    - XLK  # Technology
    - XLF  # Financial
    - XLV  # Healthcare
    - XLE  # Energy
    - XLI  # Industrial
    - XLP  # Consumer Staples
    - XLY  # Consumer Discretionary
    - XLB  # Materials
    - XLRE # Real Estate
    - XLC  # Communication Services
    - XLU  # Utilities

  # Additional ETFs (14)
  additional_etfs:
    # Factor ETFs (6)
    - IWD   # Russell 1000 Value
    - IWF   # Russell 1000 Growth
    - IWM   # Russell 2000 Small Cap
    - SPY   # S&P 500 Large Cap
    - QUAL  # Quality Factor
    - MTUM  # Momentum Factor
    # Asset Allocation ETFs (8)
    - TLT   # 20Y Treasury Bond
    - IEF   # 7-10Y Treasury Bond
    - LQD   # Investment Grade Corporate Bond
    - HYG   # High Yield Bond
    - GLD   # Gold
    - USO   # Oil
    - EFA   # Developed Markets (ex-US)
    - EEM   # Emerging Markets

  # FRED Macro Indicators
  macro_indicators:
    - DGS10      # 10-Year Treasury Rate
    - DGS2       # 2-Year Treasury Rate
    - T10Y2Y     # 10Y-2Y Spread
    - VIXCLS     # VIX
    - DTWEXBGS   # Dollar Index
    - UNRATE     # Unemployment Rate
    - CPIAUCSL   # CPI
    - INDPRO     # Industrial Production
    - HOUST      # Housing Starts
    - PAYEMS     # Non-farm Payrolls

  start_date: "2010-01-01"
  end_date: "2024-12-31"
  freq: "D"  # D for daily, M for monthly
  lookback_window: 60  # Number of timesteps to look back
  train_ratio: 0.7
  val_ratio: 0.15
  test_ratio: 0.15

# Model Configuration
model:
  # Sector Encoder
  sector_encoder:
    d_model: 128
    nhead: 8
    num_layers: 3
    dim_feedforward: 512
    dropout: 0.1

  # Macro Encoder
  macro_encoder:
    d_model: 128
    nhead: 8
    num_layers: 2
    dim_feedforward: 512
    dropout: 0.1

  # Cross Attention
  cross_attention:
    d_model: 128
    nhead: 8
    num_layers: 2
    dropout: 0.1

  # Factor dimension (expanded for 25 assets)
  factor_dim: 128

  # Factor Selection
  factor_selection:
    enabled: true
    method: "adaptive"  # adaptive, sharpe, return_vol_ratio
    min_sharpe: 0.3     # minimum sharpe ratio to keep factor
    volatility_penalty: 1.0  # penalty weight for high volatility factors

  # Prediction head
  prediction:
    hidden_dims: [256, 128]  # expanded for more capacity

# Loss Configuration
loss:
  mse_weight: 1.0        # Prediction loss
  ic_weight: 0.5         # Information Coefficient (ranking)
  sharpe_weight: 0.3     # Portfolio Sharpe ratio
  l1_weight: 0.01        # L1 regularization for interpretability

# Training Configuration
training:
  batch_size: 32
  epochs: 100
  learning_rate: 0.0001
  weight_decay: 0.0001
  grad_clip: 1.0
  early_stopping_patience: 15
  device: "cuda"  # cuda or cpu

  # Optimizer
  optimizer: "adam"  # adam, adamw, sgd
  scheduler: "cosine"  # cosine, step, plateau

  # Logging
  log_interval: 10
  save_interval: 5
  checkpoint_dir: "results/checkpoints"
  log_dir: "results/logs"

# Portfolio Configuration
portfolio:
  rebalance_freq: 20  # Rebalance every N days
  top_k: 5  # Number of top assets to hold
  transaction_cost: 0.001  # 10 bps
  leverage: 1.0
